Networking Pre Study


blue space all friendlies, mapping and networkinginto red space which is the opposition.

    ##FUNDAMENTALS

Binary     Hex     Decimal


packets, headers, and their sizes:
32 bits is known as a word
4 bytes make up a word ( 4 bytes in an ip4v address)
first byte in an ip header length is 45
double word 64 bits
quad word 128 bits

if you see base 64 try to decode it
only reason for base 64 here is encode or decode.

Encapsulation and decapsulation

please do not throw sausage pizza way ( pdntspa )

sox proxy is used to maintain and push protocols through an established session
proces includes stripping and adding info to packet header in order to tell where it is going.

Layer 1 PHYSICAL
Layer 2 DATA LINK Layer (arp, vlan, and ethernet)
    -sublayers  (MAC media access control (layer 2 to layer 1) and LLC Logical Link Control)
    -switch looks at just the destination mac to send it out faster only looking at 6 bytes compared to looking at 14 bytes ( cut through forwarding)
  -if you see hex dd hex ipv6, if you see hex 8100 it will be standard vlan tag, hex 88a8 nonstandard vlan tag 

arp used for ip to mac
proxy arp - if router has ip address then router will respond with its mac address
gratuitous arp attack - poison arp cache by sending out a specific malicious host repetitively till something is sent back.
Command: arp -a (shows arp cache) or 'ip neighbor'

IPV4 Header:
DSCP field determines what type of traic it is such as voice (ECN field at tht end is meant for traffic congestion)
Value for DSCP field is the normal value times 4
linux 64
windows 128
cisco 254

Fragmentation Process:
RES DF MF |   Offset
offset changes by taking the data value and divding by 8
for the value defragged will keep adding for what the main value was divided by 

IPV6 Header:

trafic class portion is similar to the dscp field
flow level will tell the which packets need to stay on the same path such as high priority information
hop limit is the same thing as ttl

ICMP Header:

all part of layer 3


Zero Configuration Networking:

Ipv4 auto configuration
-APIPA
-RFC 3927 
IPv6 auto ocnfiguration
-SLAAC (stateless address auto-config)
-RFC 4862

Transport Layer (4):

TCP and UDP

TCP Flags :
CWR, ECE, URG, ACK, PSH, RST, SYN, FIN
Collection of Exceptionally Unskilled Attackers Pester Real Security Folks
(Three Way Handshake)

UDP Headers:

Source, destination, length, checksum each 16 bits
no standardized response through udp
Femeral ports: femeral high port means temporrily open ( short lived only open the amount of time you need to use them)

Session Layer(5):
Socks, NetBIOS, PPTP/L2TP, RPC
                    ^
                VPN Protocol
Socks is used for client server exchange messages

Presentation Layer(6):
translation, formating, encoding, encryption, compression
This layer is for providing information to the user or system in order to coherently run things.

S. IP = 192.168.14.2

filter for source ip 

ip[2:4] = "192.168.14.2"

ip[2:4] = 0xC0 0xA8 0x0E 0x02

ip src = 192.168.14.2

answer: ip[12:4] & 0xFFFFFFFF = 0xC0A80E02

Layer 2 switching technologies:

switch operation: 
fast forward ( only destination MAC ), fragment free( First 64 bytes ), store and forward( Entire Frame and FCS )

Fast Forward is most commonly seen

CAM TABLE 

IEEE 802.1AD "Q-in-Q"
double tagging  0x88A80002                 followed by  \    0x81000064
non standard double tagging 0x91000002     followed by  /

Spanning tree protocol:
Root descision process

1. elect root bridge
2. identify the root ports on non root bridge
3. identify the designated port for each segment
4. set alternate ports to blocking gate

helps with a broadcast storms hitting all switches causing duplicate packets being forwarded out of every port.
'one packet forwared till switches crash'
spanning tree protocol doesnt allow this forwarding
ports going to the router are brute ports.

Layer 2 discovery protocols:
cisco discovery protocol (CDP)
foundry discovery protocol (FDP)
link layer discovery protocol(LLDP)

DTP dynamic trunking protocol:
different kinds of switch ports (access port and trunk port)
trunk ports: help switches transmit vlans to each other, are for devices that need to be aware of vlans being passed. not typically hosts
access ports: hosts have access ports, dont need to know their part of a vlan

switches for ease of use want devices to automatically configure themselves which is why you would use dynamic trunking protocol

Vlan Trunking Protocol:
allows one switch to act as server and passes all info to it. passes out updates.

Port security:
modes: shutdown, restrict, protect

Layer 3 routing technologies:

routers switch broadcast domains
routing table is a table of networks it knows where to send routing info to

First hop redundancy protocols

RFC: white paper about howa protocol works. (standardized throughout the industry) (like syslog and how that protocol works)

Administrative distance
-how routers rank the trustworthiness of a route (the higher the ranking the more trust)

Static routing: literally putting in you get ot such and such network through a given host out of a given port (have to setup oth sides of it)
advantages: no update sent, no bandwidth to use, data path is predetermined
disadvantages: time consuming, administrator must intervene to fix, does not scale for large networks

Dynamic routing: different kinds of routing protocols, typically see distance vector (how far does this traffic have to travel) (Ripv2 EIGRP)
advantages: easy to configure automatically provide updates, intervention not needed, scales very well

IGP and EGP:
BGP uses autanomous systems
border router in between to translate data

IANA world system through internet breaks up into different terrains such as ARIN (U.S. IP's)

IEEE controls creation of protocols we typically use lan wifi ethernet etc...

Link state convergence determines the best path to follow and everything goes with that compared to distcne vecotr where not every router knows every route.
link state they all commnicate with each other and deterine the best path and state.

BGP:
road map of the internet
routes between an AS
only cares about shorter routes

can cause bgp hijacking for illegitimate advertsiing of addresses.

BGP encryption and find hijacking by change of ttl of incoming packets has occured. 23 hops becomes 5 hops is suspicious.




























